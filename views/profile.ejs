<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon.png" />
    <link rel="stylesheet" href="/global_css.css" />
    <link rel="stylesheet" href="/navmenu.css" />
    <link rel="stylesheet" href="/profile.css" />
    <link rel="stylesheet" href="/new.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>ClientConnect-Profile</title>
  </head>

  <body>
    <!-- navigtaion -->
    <div class="nav-container">
      <div class="navigation">
        <ul style="padding-left: 0 !important">
          <li>
            <a href="/dashboard">
              <span class="icon">
                <ion-icon name="people-outline"></ion-icon>
              </span>
              <span class="title">
                <h2>ClientConnect</h2>
              </span>
            </a>
          </li>
          <li>
            <a href="/dashboard">
              <span class="icon">
                <ion-icon name="home-outline"></ion-icon>
              </span>
              <span class="title">Dashboard</span>
            </a>
          </li>
          <li>
            <a href="/provider">
              <span class="icon">
                <ion-icon name="card-outline"></ion-icon>
              </span>
              <span class="title">Provider</span>
            </a>
          </li>
          <li>
            <a href="/customer">
              <span class="icon">
                <ion-icon name="cart-outline"></ion-icon>
              </span>
              <span class="title">Customer</span>
            </a>
          </li>
          <!-- <li>
          <a href="#">
            <span class="icon">
              <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
            </span>
            <span class="title">Chat</span>
          </a>
        </li> -->
          <li>
            <a href="#">
              <span class="icon">
                <ion-icon name="help-circle-outline"></ion-icon>
              </span>
              <span class="title">Help</span>
            </a>
          </li>
          <li class="hovered">
            <a href="/profile/<%=id%>">
              <span class="icon">
                <ion-icon name="person-circle-outline"></ion-icon>
              </span>
              <span class="title">Edit Profile</span>
            </a>
          </li>
          <li>
            <a href="/logout">
              <span class="icon">
                <ion-icon name="exit-outline"></ion-icon>
              </span>
              <span class="title">Sign Out</span>
            </a>
          </li>
        </ul>
      </div>
      <div class="main">
        <div class="topbar">
          <div class="toggle">
            <ion-icon name="menu-outline"></ion-icon>
          </div>
        </div>
        <div class="container px-4 mb-4">
          <h3>Client Connect</h3>
          <div class="row">
            <div class="col-sm-5">
              <div class="p-3 border bg-light pic-box">
                <form
                  style="
                    font-size: 1rem;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                  "
                  action="/uploadPhoto"
                  method="POST"
                  enctype="multipart/form-data"
                >
                  <div
                    class="profile-pic-div"
                    style="position: relative; height: 180px"
                  >
                    <div
                      class="imgdiv"
                      style="
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        height: 180px;
                      "
                    >
                      <img
                        style="border-radius: 50% !important; margin: auto"
                        src="<%=pic.url%>"
                        alt="<%=name%>"
                        height="180px"
                        width="180px"
                        id="photo"
                      />
                    </div>
                    <div
                      class="uploaddiv"
                      style="
                        margin: 0.5rem;
                        height: fit-content;
                        z-index: 100;
                        position: absolute;
                        bottom: 0;
                        zoom: 80%;
                        left: 20px;
                      "
                    >
                      <input type="file" name="photo" id="file" />
                      <label for="file" id="uploadBtn">Choose Photo</label>
                    </div>
                  </div>
                  <br />
                  <button style="width: fit-content" type="submit">
                    Upload
                  </button>
                </form>
                <div class="userinfo">
                  <div>
                    <h6>Name:</h6>
                    <p class="name"><%= name %></p>
                  </div>
                  <div>
                    <h6>Phone:</h6>
                    <p class="phoneno"><%=phone%></p>
                  </div>
                  <div>
                    <h6>Email:</h6>
                    <p class="email"><%=email%></p>
                  </div>
                </div>
              </div>
            </div>
            <!-- <div class="col-6 col-sm-4 col-lg-4">
              <div
                class="single_advisor_profile wow fadeInUp"
                data-wow-delay="0.2s"
                style="
                  visibility: visible;
                  animation-delay: 0.2s;
                  animation-name: fadeInUp;
                "
              >
                <div class="advisor_thumb">
                  <form
                    action="/uploadPhoto"
                    enctype="multipart/form-data"
                    method="post"
                  >
                    <div class="profile-pic-div">
                      <img
                        src="../img/users/<%=pic%>"
                        alt="<%= name %>"
                        id="photo"
                      />
                      <label for="file" id="uploadBtn">Choose Photo</label>
                      <input
                        type="file"
                        name="photo"
                        id="file"
                        class="social-info"
                      />
                    </div>
                    <button
                      style="width: fit-content"
                      class="social-info"
                      type="submit"
                    >
                      Upload
                    </button>
                  </form>
                </div>
                <div class="single_advisor_details_info">
                  <h6><%= name %></h6>
                  <h6><%= email %></h6>
                  <p class="designation"><%= phone %></p>
                </div>
              </div>
            </div> -->
            <div class="col-sm-6">
              <div
                class="p-3 border bg-light content-box"
                style="position: relative"
              >
                <form action="/updateProfile" method="post">
                  <legend>Personal Info</legend>
                  <div>
                    <p>Name:</p>
                    <input
                      type="text"
                      name="name"
                      id="naam"
                      value="<%=name%>"
                      onchange="changeHandler(this.name, this.value)"
                    />
                  </div>
                  <div>
                    <p>Phone:</p>
                    <input
                      type="tel"
                      name="phone"
                      id="phone"
                      value="<%=phone%>"
                      onchange="changeHandler(this.name, this.value)"
                    />
                  </div>
                  <div>
                    <p>Email:</p>
                    <input
                      type="email"
                      name="email"
                      id="email"
                      value="<%=email%>"
                      onchange="changeHandler(this.name, this.value)"
                    />
                  </div>

                  <!-- <div>
                    <p>Expertise:</p>
                    <div class="to_add" id="toadd">
                      <div class="comp mb-3">
                        <input type="text" name="expert" id="expert" />
                        <div id="addmore" onclick="ADD(this)">
                          <img
                            class="add_icon"
                            src="https://static.thenounproject.com/png/668300-200.png"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                  <br /> -->
                  <br />
                  <button class="cta" type="submit">
                    <span>Save Changes</span>
                  </button>
                </form>
                <a
                  style="
                    height: fit-content;
                    width: fit-content;
                    position: absolute;
                    bottom: 40px;
                    right: 35px;
                  "
                  href="/deleteUser/<%=id%>"
                >
                  <button
                    class="cta"
                    style="background-color: #eb5353"
                    type="submit"
                  >
                    <span>Delete Account</span>
                  </button>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- navigation end -->

    <!-- navigation script -->
    <!-- IONICONS CDN -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
    <script src="/navmenu.js"></script>
    <script>
      var comp = ` <div class="comp mb-3">
      <input type="text" name="expert" id="expert">
      <div id="addmore" onclick="ADD(this)">
        <img class="add_icon" src="https://static.thenounproject.com/png/668300-200.png">
        </div>
        </div>`;
      var toadd = document.getElementById("toadd");
      function ADD(btn) {
        toadd.insertAdjacentHTML("beforeend", comp);
        console.log(btn.parentElement.children[0].value);
        //console.log(btn.parentElement);
        var input = btn.parentElement.children[0];
        // ye input ko db me store kara lena
      }
    </script>
    <script src="/profile.js"></script>
  </body>
</html>
